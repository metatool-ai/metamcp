NODE_ENV=production

# Postgres connection details
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=metamcp_user
POSTGRES_PASSWORD=m3t4mcp
POSTGRES_DB=metamcp_db

# Database configuration (composed from above vars)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Application URL configuration
# This is the public URL where your application will be accessible
APP_URL=http://localhost:12008
NEXT_PUBLIC_APP_URL=http://localhost:12008

# Auth configuration
BETTER_AUTH_SECRET=your-super-secret-key-change-this-in-production

# OIDC Provider Configuration (Optional)
# Uncomment and configure these variables to enable OpenID Connect authentication
# callback url is ${APP_URL}/api/auth/oauth2/callback/oidc
# Required for OIDC:
# OIDC_CLIENT_ID=your-oidc-client-id
# OIDC_CLIENT_SECRET=your-oidc-client-secret
# OIDC_DISCOVERY_URL=https://your-oidc-provider.com/.well-known/openid-configuration
# OIDC_AUTHORIZATION_URL=https://your-oidc-provider.com/auth

# Optional OIDC Configuration:
# OIDC_PROVIDER_ID=oidc
# OIDC_SCOPES=openid email profile
# OIDC_PKCE=true

# Docker networking fix
TRANSFORM_LOCALHOST_TO_DOCKER_INTERNAL=true

# Basic bootstrap configuration
BOOTSTRAP_ENABLE=true # Whether to enable bootstrap configuration. Default: true
BOOTSTRAP_FAIL_HARD=false # Whether a failure to bootstrap should stop the application from initializing. Default: false
BOOTSTRAP_DEBUG=false # Enable debug logging for bootstrap process. Default: false

# User bootstrap configuration
BOOTSTRAP_USER_EMAIL=test@user.example # Bootstrapped user email.
BOOTSTRAP_USER_NAME=Admin # Bootstrapped user name.
BOOTSTRAP_USER_PASSWORD=changeme # Bootstrap user password.
BOOTSTRAP_WARN_PASSWORD_CHANGE=true # Whether to log a warning when the password is changed. Default: true
BOOTSTRAP_RECREATE_USER=true # Delete and re-create the bootstrapped user if the password has changed. Default: false
BOOTSTRAP_DELETE_OTHER_USERS=false # Whether to delete other users. Default: false
BOOTSTRAP_PRESERVE_API_KEYS=true # Whether to preserve existing API keys when recreating the user. Default: true
BOOTSTRAP_ONLY_FIRST_RUN=false # Run bootstrap only on first startup. Default: false
BOOTSTRAP_DISABLE_REGISTRATION_UI=false # Whether to disable UI registration. Default: false
BOOTSTRAP_DISABLE_REGISTRATION_SSO=true # Whether to disable SSO registration. Default: false

# API Keys bootstrap configuration (JSON array)
# Each API key can have:
#   - name (required): Name for the API key
#   - is_public (optional): Whether the key is public (global) or private (user-scoped). Default: false
# 
# Example: BOOTSTRAP_API_KEYS=[{"name":"Public","is_public":true},{"name":"Private","is_public":false}]
BOOTSTRAP_API_KEYS=[{"name":"Public","is_public":true},{"name":"Private","is_public":false}]

# Namespaces bootstrap configuration (JSON array)
# Each namespace can have:
#   - name (required): Name for the namespace
#   - description (optional): Description for the namespace
#   - is_public (optional): Whether the namespace is public or owned by the bootstrapped user. Default: false
#   - update (optional): Whether to update the namespace if one with the same name exists. Default: true
#
# Example: BOOTSTRAP_NAMESPACES=[{"name":"Default","description":"Default namespace","is_public":true,"update":true}]
BOOTSTRAP_NAMESPACES=[{"name":"Default","description":"Default namespace","is_public":true,"update":true}]

# Endpoints bootstrap configuration (JSON array)
# Each endpoint can have:
#   - name (required): Name for the endpoint
#   - description (optional): Description for the endpoint
#   - enable_auth (optional): Whether to enable API Key authentication. Default: true
#   - enable_auth_query (optional): Whether to enable query parameter authentication. Requires enable_auth=true. Default: false
#   - enable_auth_oauth (optional): Whether to enable OAuth for the endpoint. Default: false
#   - is_public (optional): Whether the endpoint is public or owned by the bootstrapped user. Default: true
#   - update (optional): Whether to update the endpoint if one with the same name exists. Default: true
#
# Note: Endpoints will be created in the first available namespace. Ensure at least one namespace is configured.
#
# Example with multiple endpoints:
# BOOTSTRAP_ENDPOINTS=[{"name":"Public","description":"Public endpoint","enable_auth":false,"is_public":true,"update":true},{"name":"Private","description":"Private endpoint","enable_auth":true,"is_public":false,"update":true}]
BOOTSTRAP_ENDPOINTS=[{"name":"Public","description":"Public endpoint","enable_auth":false,"enable_auth_query":false,"enable_auth_oauth":false,"is_public":true,"update":true}]
